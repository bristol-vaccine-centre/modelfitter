<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Fit statistical models defined in a modelfitter configuration"><title>Fit statistical models defined in a modelfitter configuration — execute_configuration • modelfitter</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fit statistical models defined in a modelfitter configuration — execute_configuration"><meta property="og:description" content="Fit statistical models defined in a modelfitter configuration"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">modelfitter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9027</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bristol-vaccine-centre/modelfitter/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Fit statistical models defined in a <code>modelfitter</code> configuration</h1>
      <small class="dont-index">Source: <a href="https://github.com/bristol-vaccine-centre/modelfitter/blob/HEAD/R/execution.R" class="external-link"><code>R/execution.R</code></a></small>
      <div class="d-none name"><code>execute_configuration.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Fit statistical models defined in a <code>modelfitter</code> configuration</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">execute_configuration</span><span class="op">(</span></span>
<span>  <span class="va">cfg</span>,</span>
<span>  retain_fit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">cfg</span><span class="op">$</span><span class="va">n_boots</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">50</span>,</span>
<span>  performance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  cache <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>cfg</dt>
<dd><p>a 4 column dataframe with</p><ul><li><p>model_name - minumum</p></li>
<li><p>model_fn</p></li>
<li><p>data_subset_fn</p></li>
<li><p>model_formula</p></li>
</ul></dd>


<dt>retain_fit</dt>
<dd><p>keep the model fit object? If the config results in
less than 50 models then the default of this is TRUE. Otherwise we summarise
the models as we go saving memory.</p></dd>


<dt>performance</dt>
<dd><p>calculate performance metrics for all the models. These
will be summarised over bootstrap replicates. Setting this to false may
be a good idea if you have lots of models.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="model_labels.html">model_labels</a></code></p><dl><dt><code>model</code></dt>
<dd><p>a model or list of models.</p></dd>

    <dt><code>label_fn</code></dt>
<dd><p>a function that allows a predictor label to be renamed. This
should expect a vector and return a vector of the same length. Levels will be
terms in the model function and may be column names, or combinations thereof</p></dd>

    <dt><code>subgroup_label_fn</code></dt>
<dd><p>a function that allows a subgroup label to be renamed. This
should expect a vector and return a vector of the same length. The
input to this function will be either a factor level name or a combination
of them or whatever else the model decides to name it's coefficients.</p></dd>

  
</dl></dd>


<dt>cache</dt>
<dd><p>cache model output</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a 5 column dataframe with additional nested fitted results in
<code>model_fit</code>. This nested dataframe will have the columns:</p><ul><li><p><code>boot</code> - an id for the data bootstrap or imputation;</p></li>
<li><p><code>fit</code> (optional) - the model fit itself;</p></li>
<li><p><code>coef</code> the model coefficients;</p></li>
<li><p><code>global_p</code> the global p values for this model (see global_p_value());</p></li>
<li><p><code>performance</code> (optional) the performance metrics for this model;</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tmp</span> <span class="op">=</span> <span class="fu"><a href="configure_model.html">configure_model</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"Iris"</span>, <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">Species</span> <span class="op">==</span> <span class="st">"versicolor"</span><span class="op">)</span> <span class="op">~</span> <span class="va">.</span>, <span class="va">iris</span>, <span class="va">logistic_regression</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tmp2</span> <span class="op">=</span> <span class="va">tmp</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">execute_configuration</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> caching item: ~/.cache/modelfitter/cached-7ee20ca4c523103b2fe5534cbeca6990-81eb709f281fe75d1a492a891145bf7b.rda</span>
<span class="r-in"><span> </span></span>
<span class="r-in"><span><span class="va">tmp3</span>  <span class="op">=</span> <span class="fu"><a href="configure_models.html">configure_models</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="formula_provider.html">formula_provider</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="st">"&lt;F"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">color</span> <span class="op">&lt;</span> <span class="st">"F"</span><span class="op">)</span> <span class="op">~</span> <span class="va">cut</span> <span class="op">+</span> <span class="va">carat</span> <span class="op">+</span> <span class="va">clarity</span> <span class="op">+</span> <span class="va">price</span>,</span></span>
<span class="r-in"><span>      <span class="st">"&lt;H"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">color</span> <span class="op">&lt;</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">~</span> <span class="va">cut</span> <span class="op">+</span> <span class="va">carat</span> <span class="op">+</span> <span class="va">clarity</span> <span class="op">+</span> <span class="va">price</span></span></span>
<span class="r-in"><span>   <span class="op">)</span>,</span></span>
<span class="r-in"><span>   <span class="fu"><a href="bootstrap_provider.html">bootstrap_provider</a></span><span class="op">(</span><span class="fu">ggplot2</span><span class="fu">::</span><span class="va"><a href="https://ggplot2.tidyverse.org/reference/diamonds.html" class="external-link">diamonds</a></span>, max_n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   <span class="fu"><a href="model_function_provider.html">model_function_provider</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>     <span class="st">"Log reg"</span> <span class="op">=</span> <span class="fu">modelfitter</span><span class="fu">::</span><span class="va"><a href="logistic_regression.html">logistic_regression</a></span>,</span></span>
<span class="r-in"><span>     <span class="st">"Poisson"</span> <span class="op">=</span> <span class="fu">modelfitter</span><span class="fu">::</span><span class="va"><a href="quasi_poisson.html">quasi_poisson</a></span></span></span>
<span class="r-in"><span>   <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tmp4</span> <span class="op">=</span> <span class="va">tmp3</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">execute_configuration</span><span class="op">(</span>cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> caching item: ~/.cache/modelfitter/cached-7ee20ca4c523103b2fe5534cbeca6990-8e527bf9579174643babc6f473d5732f.rda</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Fitting models <span style="color: #00BB00;">■■■■■                           </span>  12% | ETA:  9s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Fitting models <span style="color: #00BB00;">■■■■■■■■■                       </span>  28% | ETA: 23s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Fitting models <span style="color: #00BB00;">■■■■■■■■■■■■■■■■                </span>  50% | ETA: 10s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Fitting models <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■               </span>  52% | ETA: 14s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Fitting models <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■         </span>  72% | ETA:  6s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Fitting models <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■        </span>  78% | ETA:  6s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Fitting models <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ </span> 100% | ETA:  0s</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Robert Challen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

